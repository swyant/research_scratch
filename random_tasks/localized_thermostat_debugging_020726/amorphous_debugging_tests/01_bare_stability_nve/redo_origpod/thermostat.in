# Bare stability test: NVE, no thermostat, no frozen atoms
# Tests whether the POD potential + structure are stable on their own
# All atoms initialized at 50 K

units metal
atom_style atomic
boundary p p p

read_data thermostat.data

neighbor 2.0 bin
neigh_modify every 1 delay 0 check yes

pair_style pod
pair_coeff * * HfO2_param.pod HfO2_coefficients.pod Hf O

# Initialize all atoms at low temperature
velocity all create 50.0 12345 dist gaussian

# Pure NVE â€” no thermostat
fix integ all nve
timestep 0.001

# --- Diagnostics ---
shell mkdir diagnostics
compute ke_per_atom all ke/atom

# Mobile atoms only (backward compatible)
dump diag_traj all custom 100 diagnostics/ke_trajectory.lammpstrj id type x y z c_ke_per_atom
dump_modify diag_traj sort id format line "%d %d %14.8f %14.8f %14.8f %14.8e"

# FULL structure including frozen atoms (for visualization)
dump full_traj all custom 100 diagnostics/full_trajectory.lammpstrj id type x y z c_ke_per_atom
dump_modify full_traj sort id format line "%d %d %14.8f %14.8f %14.8f %14.8e"


# Thermo
compute temp_all all temp
thermo 100
thermo_style custom step temp c_temp_all etotal pe ke press vol

run 5000
